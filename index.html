<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./index.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
  </head>
  <body>
    <header>
      <div>
        <i class="fa-solid fa-right-from-bracket"></i>
        <button id="logout-btn">Logout</button>
      </div>
    </header>
    <h1>Qu·∫£n l√≠ chi ti√™u</h1>
    <div class="box">
      <h2>Th√™m giao d·ªãch</h2>
      <div class="error" id="error"></div>

      <form id="transactionForm">
        <input name="name" placeholder="T√™n giao d·ªãch" />
        <input name="amount" type="number" placeholder="S·ªë ti·ªÅn" />

        <select name="type">
          <option value="thu">Thu</option>
          <option value="chi">Chi</option>
        </select>

        <select name="category">
          <option>ƒÇn u·ªëng</option>
          <option>ƒêi l·∫°i</option>
          <option>Gi·∫£i tr√≠</option>
          <option>H·ªçc t·∫≠p</option>
          <option>Kh√°c</option>
        </select>

        <input name="date" type="date" />
        <button type="submit" id="submitBtn">Th√™m</button>
      </form>
    </div>
    <div class="box search-box">
      <h2>T√¨m ki·∫øm giao d·ªãch</h2>

      <div class="search-row">
        <input
          type="text"
          id="searchKeyword"
          placeholder="üîç Nh·∫≠p t√™n giao d·ªãch..."
        />
        <button onclick="searchByName()">T√¨m</button>
        <button onclick="resetSearch()">Reset</button>
      </div>
    </div>

    <div class="box filter-box">
      <h2>L·ªçc giao d·ªãch</h2>

      <div class="filter-row">
        <div class="filter-item">
          <label>T·ª´ ng√†y</label>
          <input type="date" id="fromDate" />
        </div>

        <div class="filter-item">
          <label>ƒê·∫øn ng√†y</label>
          <input type="date" id="toDate" />
        </div>

        <div class="filter-item">
          <label>Danh m·ª•c</label>
          <select id="filterCategory">
            <option value="">T·∫•t c·∫£</option>
            <option>ƒÇn u·ªëng</option>
            <option>ƒêi l·∫°i</option>
            <option>Gi·∫£i tr√≠</option>
            <option>H·ªçc t·∫≠p</option>
            <option>Kh√°c</option>
          </select>
        </div>
      </div>

      <div class="filter-actions">
        <button onclick="filterTransactions()">L·ªçc</button>
        <button class="reset" onclick="resetFilter()">Reset</button>
      </div>
    </div>

    <div class="box">
      <h2>Danh s√°ch giao d·ªãch</h2>
      <table border="1" width="100%">
        <thead>
          <tr>
            <th>T√™n</th>
            <th>S·ªë ti·ªÅn</th>
            <th>Lo·∫°i</th>
            <th>Danh m·ª•c</th>
            <th>Ng√†y</th>
            <th>S·ª≠a</th>
            <th>X√≥a</th>
          </tr>
        </thead>
        <tbody id="list"></tbody>
      </table>
      <!-- Popup s·ª≠a giao d·ªãch -->
      <div id="editModal" class="modal">
        <div class="modal-content">
          <h2>S·ª≠a giao d·ªãch</h2>
          <div class="error" id="editError"></div>

          <form id="editForm">
            <input name="name" placeholder="T√™n giao d·ªãch" />
            <input name="amount" type="number" placeholder="S·ªë ti·ªÅn" />

            <select name="type">
              <option value="thu">Thu</option>
              <option value="chi">Chi</option>
            </select>

            <select name="category">
              <option>ƒÇn u·ªëng</option>
              <option>ƒêi l·∫°i</option>
              <option>Gi·∫£i tr√≠</option>
              <option>H·ªçc t·∫≠p</option>
              <option>Kh√°c</option>
            </select>

            <input name="date" type="date" />

            <div class="modal-actions">
              <button type="submit">C·∫≠p nh·∫≠t</button>
              <button type="button" onclick="closeEditModal()">Hu·ª∑</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="box">
      <h2>T·ªïng quan</h2>
      <p>T·ªïng thu: <b id="totalThu">0</b> ƒë</p>
      <p>T·ªïng chi: <b id="totalChi">0</b> ƒë</p>
      <p>S·ªë d∆∞ hi·ªán t·∫°i: <b id="balance">0</b> ƒë</p>
    </div>
    <script src="./main.js"></script>
  </body>
</html>
